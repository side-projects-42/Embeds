(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{1971:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{constructor(){this.value=""}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+="\n```",t&&(this.value+=t),this.value+="\n",this.value+=e,this.value+="\n```\n",this}}},1972:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));n(36);var i=n(1971);function o(e){return function(e){return e.replace(/\{@(link|linkplain|linkcode) (https?:\/\/[^ |}]+?)(?:[| ]([^{}\n]+?))?\}/gi,((e,t,n,i)=>{switch(t){case"linkcode":return`[\`${i?i.trim():n}\`](${n})`;default:return`[${i?i.trim():n}](${n})`}}))}(e)}function a(e,t){switch(e.name){case"augments":case"extends":case"param":case"template":const n=s(e.text,t).split(/^(\S+)\s*-?\s*/);if(3===(null===n||void 0===n?void 0:n.length)){const t=n[1],i=n[2],a=`*@${e.name}* \`${t}\``;return i?a+(i.match(/\r\n|\n/g)?"  \n"+o(i):` \u2014 ${o(i)}`):a}}const n=`*@${e.name}*`,i=function(e,t){if(!e.text)return;function n(e){return e.match(/^\s*[~`]{3}/g)?e:"```\n"+e+"\n```"}const i=s(e.text,t);switch(e.name){case"example":const e=i.match(/<caption>(.*?)<\/caption>\s*(\r\n|\n)/);return e&&0===e.index?e[1]+"\n\n"+n(i.substr(e[0].length)):n(i);case"author":const t=i.match(/(.+)\s<([-.\w]+@[-.\w]+)>/);return null===t?i:`${t[1]} ${t[2]}`;case"default":return n(i)}return o(i)}(e,t);return i?n+(i.match(/\r\n|\n/g)?"  \n"+i:` \u2014 ${i}`):n}function r(e,t){return o(s(e,t))}function s(e,t){var n;if(!e)return"";if("string"===typeof e)return e;const i=[];let a;for(const o of e)switch(o.kind){case"link":if(a){const e=null!==(n=a.text)&&void 0!==n?n:a.name;if(a.target){const n=t.toResource(a.target.file).with({fragment:`L${a.target.start.line},${a.target.start.offset}`});i.push(`[${e}](${n.toString()})`)}else if(e)if(/^https?:/.test(e)){const t=e.split(" ");1===t.length?i.push(t[0]):t.length>1&&i.push(`[${t.slice(1).join(" ")}](${t[0]})`)}else i.push(e);a=void 0}else a={};break;case"linkName":a&&(a.name=o.text,a.target=o.target);break;case"linkText":a&&(a.text=o.text);break;default:i.push(o.text)}return o(i.join(""))}function c(e,t,n){const o=new i.a;return l(o,e,t,n),o}function l(e,t,n,i){if(t&&e.appendMarkdown(r(t,i)),n){const t=function(e,t){return e.map((e=>a(e,t))).join("  \n\n")}(n,i);t&&e.appendMarkdown("\n\n"+t)}return e}},1973:function(e,t,n){"use strict";var i,o;n.d(t,"a",(function(){return i})),function(e){e.fromTextSpan=t=>e.fromLocations(t.start,t.end),e.fromLocations=(e,t)=>new monaco.Range(Math.max(1,e.line),Math.max(e.offset,1),Math.max(1,t.line),Math.max(1,t.offset))}(i||(i={})),function(e){e.fromCodeEdit=e=>({range:i.fromTextSpan(e),text:e.newText})}(o||(o={}))},1975:function(e,t,n){"use strict";n.r(t),n.d(t,"MyCompletionItem",(function(){return d})),n.d(t,"TypeScriptCompletionItemProvider",(function(){return g})),n.d(t,"register",(function(){return p}));n(36);var i,o=n(1971);class a{}a.alias="alias",a.callSignature="call",a.class="class",a.const="const",a.constructorImplementation="constructor",a.constructSignature="construct",a.directory="directory",a.enum="enum",a.enumMember="enum member",a.externalModuleName="external module name",a.function="function",a.indexSignature="index",a.interface="interface",a.keyword="keyword",a.let="let",a.localFunction="local function",a.localVariable="local var",a.method="method",a.memberGetAccessor="getter",a.memberSetAccessor="setter",a.memberVariable="property",a.module="module",a.primitiveType="primitive type",a.script="script",a.type="type",a.variable="var",a.warning="warning",a.string="string",a.parameter="parameter",a.typeParameter="type parameter";class r{}r.error="error",r.warning="warning",r.suggestion="suggestion";class s{}s.optional="optional",s.deprecated="deprecated",s.color="color",s.dtsFile=".d.ts",s.tsFile=".ts",s.tsxFile=".tsx",s.jsFile=".js",s.jsxFile=".jsx",s.jsonFile=".json",s.fileExtensionKindModifiers=[s.dtsFile,s.tsFile,s.tsxFile,s.jsFile,s.jsxFile,s.jsonFile];class c{}c.functionName="functionName",c.methodName="methodName",c.parameterName="parameterName",c.propertyName="propertyName",c.punctuation="punctuation",c.text="text",function(e){e.syntaxDiag="syntaxDiag",e.semanticDiag="semanticDiag",e.suggestionDiag="suggestionDiag",e.configFileDiag="configFileDiag",e.telemetry="telemetry",e.projectLanguageServiceState="projectLanguageServiceState",e.projectsUpdatedInBackground="projectsUpdatedInBackground",e.beginInstallTypes="beginInstallTypes",e.endInstallTypes="endInstallTypes",e.typesInstallerInitializationFailed="typesInstallerInitializationFailed",e.surveyReady="surveyReady",e.projectLoadingStart="projectLoadingStart",e.projectLoadingFinish="projectLoadingFinish"}(i||(i={}));var l=n(1972),u=n(1973);const m={toResource:e=>monaco.Uri.parse(e)};class d{constructor(e,t,n,i){if(this.position=e,this.document=t,this.tsEntry=n,this.completionContext=i,this.kind=d.convertKind(n.kind),this.label=n.name,this.preselect=n.isRecommended,this.position=e,this.range=this.getRangeFromReplacementSpan(n,i),this.insertText=n.insertText||this.label,this.sortText=n.sortText,this.range||(this.range=i.wordRange),n.source&&n.hasAction){this.sortText="\uffff"+n.sortText;const e=n.source.startsWith("node:")?n.source:monaco.Uri.parse(n.source).fsPath.replace(/^\//,"");e!==n.source&&(this.label={label:n.name,description:e})}const{sourceDisplay:o}=n;if(o&&(this.label={label:n.name,description:l.c(o,m)}),n.kindModifiers){const e=function(e){return new Set(e.split(/,|\s+/g))}(n.kindModifiers);if(e.has(s.optional)&&(this.insertText||(this.insertText=this.textLabel),this.filterText||(this.filterText=this.textLabel),this.label+="?"),e.has(s.deprecated)&&(this.tags=[monaco.languages.CompletionItemTag.Deprecated]),e.has(s.color)&&(this.kind=monaco.languages.CompletionItemKind.Color),n.kind===a.script)for(const t of s.fileExtensionKindModifiers)if(e.has(t)){n.name.toLowerCase().endsWith(t)?this.detail=n.name:this.detail=n.name+t;break}}}get textLabel(){return"string"===typeof this.label?this.label:this.label.label}getRangeFromReplacementSpan(e,t){if(!e.replacementSpan)return;let n=u.a.fromTextSpan(e.replacementSpan);return n.startLineNumber===n.endLineNumber||(n=new monaco.Range(n.startLineNumber,n.startColumn,n.startLineNumber,t.line.length)),{insert:n,replace:n}}static convertKind(e){switch(e){case a.primitiveType:case a.keyword:return monaco.languages.CompletionItemKind.Keyword;case a.const:case a.let:case a.variable:case a.localVariable:case a.alias:case a.parameter:return monaco.languages.CompletionItemKind.Variable;case a.memberVariable:case a.memberGetAccessor:case a.memberSetAccessor:return monaco.languages.CompletionItemKind.Field;case a.function:case a.localFunction:return monaco.languages.CompletionItemKind.Function;case a.method:case a.constructSignature:case a.callSignature:case a.indexSignature:return monaco.languages.CompletionItemKind.Method;case a.enum:return monaco.languages.CompletionItemKind.Enum;case a.enumMember:return monaco.languages.CompletionItemKind.EnumMember;case a.module:case a.externalModuleName:return monaco.languages.CompletionItemKind.Module;case a.class:case a.type:return monaco.languages.CompletionItemKind.Class;case a.interface:return monaco.languages.CompletionItemKind.Interface;case a.warning:return monaco.languages.CompletionItemKind.Text;case a.script:return monaco.languages.CompletionItemKind.File;case a.directory:return monaco.languages.CompletionItemKind.Folder;case a.string:return monaco.languages.CompletionItemKind.Constant;default:return monaco.languages.CompletionItemKind.Property}}}class g{constructor(e){this.clientFactory=e,this.triggerCharacters=["."]}async provideCompletionItems(e,t,n,i){const o=e.uri,a=this.positionToOffset(o,t),r=await this.clientFactory(o),s=await r.getCompletionsAtPosition(o.toString(),a);if(!s)return;const c=e.getWordUntilPosition(t),l=new monaco.Range(t.lineNumber,c.startColumn,t.lineNumber,c.endColumn),u=[],m=function(e){var t,n;const i=new Map;for(const a of e)if(null===(t=a.source)||void 0===t?void 0:t.includes(":/node_modules/rxjs")){const e=null!==(n=i.get(a.name))&&void 0!==n?n:[];e.push(a),i.set(a.name,e)}const o=[];for(const a of i.values()){const e=a.filter((({source:e})=>e.includes("/internal/"))).map((({source:e})=>e));e.length<a.length&&o.push(...e)}return e=>o.includes(e.source)}(s.entries);for(const g of s.entries){if(m(g))continue;const n=new d(t,e,g,{line:e.getLineContent(t.lineNumber),wordRange:l});u.push(n)}return{suggestions:u}}async resolveCompletionItem(e,t){let n=e;const i=n.document.uri,o=n.position,a=monaco.editor.getModel(i),r=await this.clientFactory(i),s=await r.getCompletionEntryDetails(i.toString(),this.positionToOffset(i,o),n.tsEntry.name,n.tsEntry.source,n.tsEntry.data);if(!s)return n;const c=a.uri._formatted,u=this.getCodeActions(s,c,a);return!e.detail&&s.displayParts.length&&(e.detail=l.c(s.displayParts,r)),e.documentation=this.getDocumentation(s,n),e.additionalTextEdits=u.additionalTextEdits,e}getDocumentation(e,t){const n=new o.a;if(e.source){const n=`Auto import from ${`'${l.c(e.source,m)}'`}`;t.detail=`${n}\n${t.detail||""}`}return l.a(n,e.documentation,e.tags,m),n.value.length?n:void 0}getCodeActions(e,t,n){if(!e.codeActions||!e.codeActions.length)return{};const i=[];for(const o of e.codeActions)if(o.changes)for(const e of o.changes)i.push(...e.textChanges.map((e=>this.textChangeToAdditionalTextEdits(e,n))));return{additionalTextEdits:i.length?i:void 0}}textChangeToAdditionalTextEdits(e,t){const n=t.getPositionAt(e.span.start),i=t.getPositionAt(e.span.start+e.span.length);return{text:e.newText,range:{startLineNumber:n.lineNumber,startColumn:n.column,endColumn:i.column,endLineNumber:i.lineNumber}}}positionToOffset(e,t){return monaco.editor.getModel(e).getOffsetAt(t)}}function p(e,t){monaco.languages.registerCompletionItemProvider(e,new g(t))}}}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[440],{2137:function(e,r,t){"use strict";function n(e,r,t,n,s,i,u){try{var c=e[i](u),a=c.value}catch(l){return void t(l)}c.done?r(a):Promise.resolve(a).then(n,s)}function s(e){return function(){var r=this,t=arguments;return new Promise((function(s,i){var u=e.apply(r,t);function c(e){n(u,s,i,c,a,"next",e)}function a(e){n(u,s,i,c,a,"throw",e)}c(void 0)}))}}t.d(r,{Z:function(){return s}})},900:function(e,r,t){"use strict";var n=t(4575),s=t(3913),i=t(2205),u=t(8585),c=t(9754);function a(e){var r=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=c(e);if(r){var s=c(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return u(this,t)}}var l=t(5318);r.__esModule=!0,r.default=void 0;var o=l(t(7294)),f=l(t(7947)),d={400:"Bad Request",404:"This page could not be found",405:"Method Not Allowed",500:"Internal Server Error"};function b(e){var r=e.res,t=e.err;return{statusCode:r&&r.statusCode?r.statusCode:t?t.statusCode:404}}var y=function(e){i(t,e);var r=a(t);function t(){return n(this,t),r.apply(this,arguments)}return s(t,[{key:"render",value:function(){var e=this.props.statusCode,r=this.props.title||d[e]||"An unexpected error has occurred";return o.default.createElement("div",{style:g.error},o.default.createElement(f.default,null,o.default.createElement("title",null,e,": ",r)),o.default.createElement("div",null,o.default.createElement("style",{dangerouslySetInnerHTML:{__html:"body { margin: 0 }"}}),e?o.default.createElement("h1",{style:g.h1},e):null,o.default.createElement("div",{style:g.desc},o.default.createElement("h2",{style:g.h2},r,"."))))}}]),t}(o.default.Component);r.default=y,y.displayName="ErrorPage",y.getInitialProps=b,y.origGetInitialProps=b;var g={error:{color:"#000",background:"#fff",fontFamily:'-apple-system, BlinkMacSystemFont, Roboto, "Segoe UI", "Fira Sans", Avenir, "Helvetica Neue", "Lucida Grande", sans-serif',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},desc:{display:"inline-block",textAlign:"left",lineHeight:"49px",height:"49px",verticalAlign:"middle"},h1:{display:"inline-block",borderRight:"1px solid rgba(0, 0, 0,.3)",margin:0,marginRight:"20px",padding:"10px 23px 10px 0",fontSize:"24px",fontWeight:500,verticalAlign:"top"},h2:{fontSize:"14px",fontWeight:"normal",lineHeight:"inherit",margin:0,padding:0}}},2918:function(e,r,t){e.exports=t(900)},1163:function(e,r,t){e.exports=t(2441)},2283:function(e,r,t){"use strict";t.d(r,{cI:function(){return ve}});var n=t(7294),s=e=>"checkbox"===e.type,i=e=>null==e;const u=e=>"object"===typeof e;var c=e=>!i(e)&&!Array.isArray(e)&&u(e)&&!(e instanceof Date),a=e=>e.substring(0,e.search(/.\d/))||e,l=(e,r)=>[...e].some((e=>a(r)===e)),o=e=>e.filter(Boolean),f=e=>void 0===e,d=(e={},r,t)=>{const n=o(r.split(/[,[\].]+?/)).reduce(((e,r)=>i(e)?e:e[r]),e);return f(n)||n===e?f(e[r])?t:e[r]:n};const b="blur",y="onBlur",g="onChange",h="onSubmit",m="onTouched",v="all",p="undefined",O="max",k="min",j="maxLength",x="minLength",A="pattern",V="required",w="validate";var _=(e,r)=>{const t=Object.assign({},e);return delete t[r],t};const R=n.createContext(null);R.displayName="RHFContext";var S=(e,r,t,n,s=!0)=>e?new Proxy(r,{get:(e,r)=>{if(r in e)return t.current[r]!==v&&(t.current[r]=!s||v),n&&(n.current[r]=!0),e[r]}}):r,C=e=>c(e)&&!Object.keys(e).length,D=(e,r,t)=>C(e)||Object.keys(e).length>=Object.keys(r).length||Object.keys(e).find((e=>r[e]===(!t||v))),F=typeof window!==p&&typeof window.HTMLElement!==p&&typeof document!==p;const E=F?"Proxy"in window:typeof Proxy!==p;var N=(e,r,t,n,s)=>r?Object.assign(Object.assign({},t[e]),{types:Object.assign(Object.assign({},t[e]&&t[e].types?t[e].types:{}),{[n]:s||!0})}):{},B=e=>/^\w*$/.test(e),I=e=>o(e.replace(/["|']|\]/g,"").split(/\.|\[/));function M(e,r,t){let n=-1;const s=B(r)?[r]:I(r),i=s.length,u=i-1;for(;++n<i;){const r=s[n];let i=t;if(n!==u){const t=e[r];i=c(t)||Array.isArray(t)?t:isNaN(+s[n+1])?{}:[]}e[r]=i,e=e[r]}return e}const T=(e,r,t)=>{for(const n of t||Object.keys(e)){const t=d(e,n);if(t){const e=t._f,n=_(t,"_f");if(e&&r(e.name)){if(e.ref.focus&&f(e.ref.focus()))break;if(e.refs){e.refs[0].focus();break}}else c(n)&&T(n,r)}}},L=(e,r,t={})=>{for(const n in e.current){const s=e.current[n];if(s){const e=s._f,i=_(s,"_f");M(t,n,e?e.ref.disabled||e.refs&&e.refs.every((e=>e.disabled))?void 0:e.value:Array.isArray(s)?[]:{}),i&&L({current:i},r,t[n])}}return Object.assign(Object.assign({},r),t)};var P=e=>i(e)||!u(e);function H(e,r,t){if(P(e)||P(r)||e instanceof Date||r instanceof Date)return e===r;if(!n.isValidElement(e)){const n=Object.keys(e),s=Object.keys(r);if(n.length!==s.length)return!1;for(const i of n){const n=e[i];if(!t||"ref"!==i){const e=r[i];if((c(n)||Array.isArray(n))&&(c(e)||Array.isArray(e))?!H(n,e,t):n!==e)return!1}}}return!0}function U(e,r){if(P(e)||P(r))return r;for(const n in r){const s=e[n],i=r[n];try{e[n]=c(s)&&c(i)||Array.isArray(s)&&Array.isArray(i)?U(s,i):i}catch(t){}}return e}function q(e,r,t,n,s){let i=-1;for(;++i<e.length;){for(const n in e[i])Array.isArray(e[i][n])?(!t[i]&&(t[i]={}),t[i][n]=[],q(e[i][n],d(r[i]||{},n,[]),t[i][n],t[i],n)):H(d(r[i]||{},n),e[i][n])?M(t[i]||{},n):t[i]=Object.assign(Object.assign({},t[i]),{[n]:!0});n&&!t.length&&delete n[s]}return t}var W=(e,r,t)=>U(q(e,r,t.slice(0,e.length)),q(r,e,t.slice(0,e.length)));var $=e=>"boolean"===typeof e;function z(e,r){const t=B(r)?[r]:I(r),n=1==t.length?e:function(e,r){const t=r.slice(0,-1).length;let n=0;for(;n<t;)e=f(e)?n++:e[r[n++]];return e}(e,t),s=t[t.length-1];let i;n&&delete n[s];for(let u=0;u<t.slice(0,-1).length;u++){let r,n=-1;const s=t.slice(0,-(u+1)),a=s.length-1;for(u>0&&(i=e);++n<s.length;){const t=s[n];r=r?r[t]:e[t],a===n&&(c(r)&&C(r)||Array.isArray(r)&&!r.filter((e=>c(e)&&!C(e)||$(e))).length)&&(i?delete i[t]:delete e[t]),i=r}}return e}function G(e,r){const t={};for(const n of e){const e=d(r,n);e&&(B(n)?t[n]=e._f:M(t,n,e._f))}return t}var Z=e=>"file"===e.type,J=e=>"select-multiple"===e.type,K=e=>"radio"===e.type;const Q={value:!1,isValid:!1},X={value:!0,isValid:!0};var Y=e=>{if(Array.isArray(e)){if(e.length>1){const r=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:r,isValid:!!r.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!f(e[0].attributes.value)?f(e[0].value)||""===e[0].value?X:{value:e[0].value,isValid:!0}:X:Q}return Q},ee=(e,{valueAsNumber:r,valueAsDate:t,setValueAs:n})=>r?""===e?NaN:+e:t?new Date(e):n?n(e):e;const re={isValid:!1,value:null};var te=e=>Array.isArray(e)?e.reduce(((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e),re):re;function ne(e){if(e&&e._f){const t=e._f.ref;if(t.disabled)return;return Z(t)?t.files:K(t)?te(e._f.refs).value:J(t)?(r=t.options,[...r].filter((({selected:e})=>e)).map((({value:e})=>e))):s(t)?Y(e._f.refs).value:ee(f(t.value)?e._f.ref.value:t.value,e._f)}var r}var se=e=>e&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ie=e=>"function"===typeof e,ue=e=>"string"===typeof e,ce=e=>ue(e)||n.isValidElement(e),ae=e=>e instanceof RegExp;function le(e,r,t="validate"){if(ce(e)||$(e)&&!e)return{type:t,message:ce(e)?e:"",ref:r}}var oe=e=>c(e)&&!ae(e)?e:{value:e,message:""},fe=async({_f:{ref:e,refs:r,required:t,maxLength:n,minLength:u,min:a,max:l,pattern:o,validate:f,name:d,value:b,valueAsNumber:y}},g)=>{const h={},m=K(e),v=s(e),p=m||v,_=(y||Z(e))&&!e.value||""===b||Array.isArray(b)&&!b.length,R=N.bind(null,d,g,h),S=(r,t,n,s=j,i=x)=>{const u=r?t:n;h[d]=Object.assign({type:r?s:i,message:u,ref:e},R(r?s:i,u))};if(t&&(!m&&!v&&(_||i(b))||$(b)&&!b||v&&!Y(r).isValid||m&&!te(r).isValid)){const{value:n,message:s}=ce(t)?{value:!!t,message:t}:oe(t);if(n&&(h[d]=Object.assign({type:V,message:s,ref:p?(r||[])[0]||{}:e},R(V,s)),!g))return h}if((!i(a)||!i(l))&&""!==b){let r,t;const n=oe(l),s=oe(a);if(isNaN(b)){const i=e.valueAsDate||new Date(b);ue(n.value)&&(r=i>new Date(n.value)),ue(s.value)&&(t=i<new Date(s.value))}else{const u=e.valueAsNumber||parseFloat(b);i(n.value)||(r=u>n.value),i(s.value)||(t=u<s.value)}if((r||t)&&(S(!!r,n.message,s.message,O,k),!g))return h}if(ue(b)&&!_&&(n||u)){const e=oe(n),r=oe(u),t=!i(e.value)&&b.length>e.value,s=!i(r.value)&&b.length<r.value;if((t||s)&&(S(t,e.message,r.message),!g))return h}if(ue(b)&&o&&!_){const{value:r,message:t}=oe(o);if(ae(r)&&!b.match(r)&&(h[d]=Object.assign({type:A,message:t,ref:e},R(A,t)),!g))return h}if(f){const t=p&&r?r[0]:e;if(ie(f)){const e=le(await f(b),t);if(e&&(h[d]=Object.assign(Object.assign({},e),R(w,e.message)),!g))return h}else if(c(f)){let e={};for(const[r,n]of Object.entries(f)){if(!C(e)&&!g)break;const s=le(await n(b),t,r);s&&(e=Object.assign(Object.assign({},s),R(r,s.message)),g&&(h[d]=e))}if(!C(e)&&(h[d]=Object.assign({ref:t},e),!g))return h}}return h},de=e=>({isOnSubmit:!e||e===h,isOnBlur:e===y,isOnChange:e===g,isOnAll:e===v,isOnTouch:e===m}),be=e=>e instanceof HTMLElement;class ye{constructor(){this.tearDowns=[]}add(e){this.tearDowns.push(e)}unsubscribe(){for(const e of this.tearDowns)e();this.tearDowns=[]}}class ge{constructor(e,r){this.observer=e,this.closed=!1,r.add((()=>this.closed=!0))}next(e){this.closed||this.observer.next(e)}}class he{constructor(){this.observers=[]}next(e){for(const r of this.observers)r.next(e)}subscribe(e){const r=new ye,t=new ge(e,r);return this.observers.push(t),r}unsubscribe(){this.observers=[]}}const me=typeof window===p;function ve({mode:e=h,reValidateMode:r=g,resolver:t,context:u,defaultValues:c={},shouldFocusError:y=!0,shouldUnregister:m,criteriaMode:p}={}){const O=n.useRef({}),k=n.useRef(new Set),j=n.useRef(new he),x=n.useRef(new Set),A=n.useRef(new he),V=n.useRef(new he),w=n.useRef(new he),R=n.useRef({}),N=n.useRef(new Set),B=n.useRef(!1),I=n.useRef({}),P=n.useRef({}),U=n.useRef(c),q=n.useRef(!1),$=n.useRef(u),Q=n.useRef(t),X=n.useRef(new Set),Y=de(e),re=p===v,[te,ce]=n.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!Y.isOnSubmit,errors:{}}),ae=n.useRef({isDirty:!E,dirtyFields:!E,touchedFields:!E,isValidating:!E,isValid:!E,errors:!E}),le=n.useRef(te);$.current=u,Q.current=t;const oe=()=>le.current.isValid=H(P.current,I.current)&&C(le.current.errors),ye=n.useCallback(((e,r,t=!1,n={},s,u)=>{const c=d(le.current.errors,e);let a=t||!H(c,r,!0)||ae.current.isValid&&f(r)&&d(I.current,e)&&!d(P.current,e);if(r?(z(P.current,e),a=a||!c||!H(c,r,!0),M(le.current.errors,e,r)):((d(I.current,e)||Q.current)&&(M(P.current,e,!0),a=a||c),z(le.current.errors,e)),a&&!i(t)||!C(n)||u){const e=Object.assign(Object.assign({},n),{isValid:Q.current?!!s:oe(),errors:le.current.errors});le.current=Object.assign(Object.assign({},le.current),e),j.current.next(u?{}:e)}j.current.next({isValidating:!1})}),[]),ge=n.useCallback(((e,r,t={},n,u)=>{u&&Fe(e);const c=d(O.current,e,{})._f;if(c){const u=F&&be(c.ref)&&i(r)?"":r;if(c.value=ee(r,c),K(c.ref)?(c.refs||[]).forEach((e=>e.checked=e.value===u)):Z(c.ref)&&!ue(u)?c.ref.files=u:J(c.ref)?[...c.ref.options].forEach((e=>e.selected=u.includes(e.value))):s(c.ref)&&c.refs?c.refs.length>1?c.refs.forEach((e=>e.checked=Array.isArray(u)?!!u.find((r=>r===e.value)):u===e.value)):c.refs[0].checked=!!u:c.ref.value=u,n){const t=L(O);M(t,e,r),V.current.next({values:Object.assign(Object.assign({},U.current),t),name:e})}t.shouldDirty&&pe(e,u),t.shouldValidate&&xe(e)}}),[]),ve=n.useCallback(((e,r)=>{const t=L(O);return e&&r&&M(t,e,r),!H(t,U.current)}),[]),pe=n.useCallback(((e,r,t=!0)=>{if(ae.current.isDirty||ae.current.dirtyFields){const n=!H(d(U.current,e),r),s=d(le.current.dirtyFields,e),i=le.current.isDirty;n?M(le.current.dirtyFields,e,!0):z(le.current.dirtyFields,e),le.current.isDirty=ve();const u={isDirty:le.current.isDirty,dirtyFields:le.current.dirtyFields},c=ae.current.isDirty&&i!==u.isDirty||ae.current.dirtyFields&&s!==d(le.current.dirtyFields,e);return c&&t&&j.current.next(u),c?u:{}}return{}}),[]),Oe=n.useCallback((async(e,r)=>{const t=(await fe(d(O.current,e),re))[e];return ye(e,t,r),f(t)}),[re]),ke=n.useCallback((async(e,r=[])=>{const{errors:t}=await Q.current(L(O,m?{}:U.current),$.current,{criteriaMode:p,names:r,fields:G(k.current,O.current)});for(const n of e){const e=d(t,n);e?M(le.current.errors,n,e):z(le.current.errors,n)}return t}),[p]),je=async e=>{for(const r in e){const t=e[r];if(t){const e=t._f,r=_(t,"_f");if(e){const r=await fe(t,re);r[e.name]?(M(le.current.errors,e.name,r[e.name]),z(P.current,e.name)):d(I.current,e.name)&&(M(P.current,e.name,!0),z(le.current.errors,e.name))}r&&await je(r)}}},xe=n.useCallback((async e=>{const r=f(e)?Object.keys(O.current):Array.isArray(e)?e:[e];let t;return j.current.next({isValidating:!0}),t=Q.current?C(await ke(r,f(e)?void 0:r)):!!(f(e)?await je(O.current):(await Promise.all(r.filter((e=>d(O.current,e))).map((async e=>await Oe(e,null))))).every(Boolean)),j.current.next({errors:le.current.errors,isValidating:!1,isValid:Q.current?t:oe()}),t}),[ke,Oe]),Ae=n.useCallback(((e,r,t)=>Object.entries(r).forEach((([r,n])=>{const s=`${e}.${r}`,i=d(O.current,s);i&&!i._f?Ae(s,n,t):ge(s,n,t,!0,!i)}))),[xe]),Ve=e=>q.current||N.current.has(e)||N.current.has((e.match(/\w+/)||[])[0]),we=(e,r,t,n)=>{const s=d(O.current,e),i=f(s._f.value)?d(U.current,e):s._f.value;return s&&!f(i)&&(t&&t.defaultChecked?s._f.value=ne(s):l(X.current,e)?s._f.value=i:ge(e,i)),(!f(i)||n)&&se(r)&&!Y.isOnSubmit&&s&&ae.current.isValid&&fe(s,re).then((r=>{C(r)?M(P.current,e,!0):z(P.current,e),le.current.isValid!==oe()&&ce(Object.assign(Object.assign({},le.current),{isValid:oe()}))})),i},_e=n.useCallback((async({type:e,target:t,target:{value:n,type:i}})=>{let u,c,l=t.name;const o=d(O.current,l);if(o){let y=i?ne(o):void 0;y=f(y)?n:y;const g=e===b,{isOnBlur:h,isOnChange:v}=de(r),k=!se(o._f)&&!Q.current&&!d(le.current.errors,l)||(({isOnBlur:e,isOnChange:r,isOnTouch:t,isTouched:n,isReValidateOnBlur:s,isReValidateOnChange:i,isBlurEvent:u,isSubmitted:c,isOnAll:a})=>!a&&(!c&&t?!(n||u):(c?s:e)?!u:!(c?i:r)||u))(Object.assign({isBlurEvent:g,isTouched:!!d(le.current.touchedFields,l),isSubmitted:le.current.isSubmitted,isReValidateOnBlur:h,isReValidateOnChange:v},Y)),x=!g&&Ve(l);f(y)||(o._f.value=y);const V=pe(l,o._f.value,!1);g&&!d(le.current.touchedFields,l)&&(M(le.current.touchedFields,l,!0),ae.current.touchedFields&&(V.touchedFields=le.current.touchedFields));let w=!C(V)||x;if(k)return!g&&A.current.next({name:l,type:e,value:y}),w&&j.current.next(x?{}:V);if(j.current.next({isValidating:!0}),Q.current){const{errors:e}=await Q.current(L(O,m?{}:U.current),$.current,{criteriaMode:p,fields:G([l],O.current),names:[l]}),r=le.current.isValid;if(u=d(e,l),s(t)&&!u){const r=a(l),t=d(e,r,{});t.type&&t.message&&(u=t),(t||d(le.current.errors,r))&&(l=r)}c=C(e),r!==c&&(w=!0)}else u=(await fe(o,re))[l];!g&&A.current.next({name:l,type:e,value:y}),ye(l,u,w,V,c,x)}}),[]),Re=n.useCallback((async(e={})=>{const r=le.current.isValid;if(t){const{errors:r}=await Q.current(Object.assign(Object.assign({},L(O,m?{}:U.current)),e),$.current,{criteriaMode:p,fields:G(k.current,O.current)});le.current.isValid=C(r)}else oe();r!==le.current.isValid&&j.current.next({isValid:le.current.isValid})}),[p]),Se=n.useCallback(((e,r,t)=>{const n=Array.isArray(e),s=B.current?L(O,U.current):f(r)?U.current:n?r||{}:{[e]:r};if(f(e))return t&&(q.current=!0),s;const i=[];for(const u of n?e:[e])t&&N.current.add(u),i.push(d(s,u));return n?i:i[0]}),[]),Ce=(e,r={})=>{for(const t of e?Array.isArray(e)?e:[e]:Object.keys(k.current))k.current.delete(t),X.current.delete(t),d(O.current,t)&&(r.keepIsValid||(z(I.current,t),z(P.current,t)),!r.keepError&&z(le.current.errors,t),!r.keepValue&&z(O.current,t),!r.keepDirty&&z(le.current.dirtyFields,t),!r.keepTouched&&z(le.current.touchedFields,t),!m&&!r.keepDefaultValue&&z(U.current,t),A.current.next({name:t}));j.current.next(Object.assign(Object.assign(Object.assign({},le.current),r.keepDirty?{isDirty:ve()}:{}),Q.current?{}:{isValid:oe()})),!r.keepIsValid&&Re()},De=(e,r,t)=>{Fe(e,t);let n=d(O.current,e);const i=(e=>K(e)||s(e))(r);if(r===n._f.ref||F&&be(n._f.ref)&&!be(r)||i&&Array.isArray(n._f.refs)&&o(n._f.refs).find((e=>e===r)))return;n={_f:i?Object.assign(Object.assign({},n._f),{refs:[...o(n._f.refs||[]).filter((e=>be(e)&&document.contains(e))),r],ref:{type:r.type,name:e}}):Object.assign(Object.assign({},n._f),{ref:r})},M(O.current,e,n);const u=we(e,t,r,!0);(i&&Array.isArray(u)?!H(d(O.current,e)._f.value,u):f(d(O.current,e)._f.value))&&(d(O.current,e)._f.value=ne(d(O.current,e)))},Fe=n.useCallback(((e,r)=>{const t=!d(O.current,e);return M(O.current,e,{_f:Object.assign(Object.assign(Object.assign({},t?{ref:{name:e}}:Object.assign({ref:(d(O.current,e)._f||{}).ref},d(O.current,e)._f)),{name:e}),r)}),se(r)&&M(I.current,e,!0),k.current.add(e),t&&we(e,r),me?{name:e}:{name:e,onChange:_e,onBlur:_e,ref:t=>{t?De(e,t,r):(m||r&&r.shouldUnregister)&&F&&x.current.add(e)}}}),[U.current]),Ee=n.useCallback(((e,r)=>async t=>{t&&(t.preventDefault&&t.preventDefault(),t.persist&&t.persist());let n=Object.assign(Object.assign({},m?{}:U.current),L(O));j.current.next({isSubmitting:!0});try{if(Q.current){const{errors:e,values:r}=await Q.current(n,$.current,{criteriaMode:p,fields:G(k.current,O.current)});le.current.errors=e,n=r}else await je(O.current);C(le.current.errors)&&Object.keys(le.current.errors).every((e=>d(n,e)))?(j.current.next({errors:{},isSubmitting:!0}),await e(n,t)):(r&&await r(le.current.errors,t),y&&T(O.current,(e=>d(le.current.errors,e)),k.current))}finally{le.current.isSubmitted=!0,j.current.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:C(le.current.errors),submitCount:le.current.submitCount+1,errors:le.current.errors})}}),[y,re,p]),Ne=n.useCallback((({keepErrors:e,keepDirty:r,keepIsSubmitted:t,keepTouched:n,keepDefaultValues:s,keepIsValid:i,keepSubmitCount:u},c)=>{i||(P.current={},I.current={}),N.current=new Set,q.current=!1,j.current.next({submitCount:u?le.current.submitCount:0,isDirty:r?le.current.isDirty:!!s&&H(c,U.current),isSubmitted:!!t&&le.current.isSubmitted,isValid:i?le.current.isValid:!!Re(c),dirtyFields:r?le.current.dirtyFields:{},touchedFields:n?le.current.touchedFields:{},errors:e?le.current.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})}),[]);return n.useEffect((()=>{const e=j.current.subscribe({next(e={}){D(e,ae.current,!0)&&(le.current=Object.assign(Object.assign({},le.current),e),ce(le.current))}}),r=w.current.subscribe({next(e){if(e.fields&&e.name&&ae.current.isValid){const r=L(O);M(r,e.name,e.fields),Re(r)}}});return Q.current&&ae.current.isValid&&Re(),()=>{A.current.unsubscribe(),e.unsubscribe(),r.unsubscribe()}}),[]),n.useEffect((()=>{const e=e=>!be(e)||!document.contains(e);B.current=!0,x.current.forEach((r=>{const t=d(O.current,r);t&&(t._f.refs?t._f.refs.every(e):e(t._f.ref))&&Ce(r)})),x.current=new Set})),{control:n.useMemo((()=>({register:Fe,isWatchAllRef:q,watchFieldsRef:N,getIsDirty:ve,formStateSubjectRef:j,fieldArraySubjectRef:w,controllerSubjectRef:V,watchSubjectRef:A,watchInternal:Se,fieldsRef:O,validFieldsRef:P,fieldsWithValidationRef:I,fieldArrayNamesRef:X,readFormStateRef:ae,formStateRef:le,defaultValuesRef:U,fieldArrayDefaultValuesRef:R,unregister:Ce,shouldUnmountUnregister:m})),[]),formState:S(E,te,ae),trigger:xe,register:Fe,handleSubmit:Ee,watch:n.useCallback(((e,r)=>ie(e)?A.current.subscribe({next:t=>e(Se(void 0,r),t)}):Se(e,r,!0)),[]),setValue:n.useCallback(((e,r,t={})=>{const n=d(O.current,e),s=X.current.has(e);s&&(w.current.next({fields:r,name:e,isReset:!0}),(ae.current.isDirty||ae.current.dirtyFields)&&t.shouldDirty&&(M(le.current.dirtyFields,e,W(r,d(U.current,e,[]),d(le.current.dirtyFields,e,[]))),j.current.next({dirtyFields:le.current.dirtyFields,isDirty:ve(e,r)})),!r.length&&M(O.current,e,[])&&M(R.current,e,[])),n&&!n._f||s?Ae(e,r,s?{}:t):ge(e,r,t,!0,!n),Ve(e)&&j.current.next({}),A.current.next({name:e,value:r})}),[Ae]),getValues:n.useCallback((e=>{const r=B.current?L(O,m?{}:U.current):U.current;return f(e)?r:ue(e)?d(r,e):e.map((e=>d(r,e)))}),[]),reset:n.useCallback(((e,r={})=>{const t=e||U.current;if(F&&!r.keepValues)for(const s of k.current){const e=d(O.current,s);if(e&&e._f){const r=Array.isArray(e._f.refs)?e._f.refs[0]:e._f.ref;if(be(r))try{r.closest("form").reset();break}catch(n){}}}!r.keepDefaultValues&&(U.current=Object.assign({},t)),r.keepValues||(O.current={},V.current.next({values:Object.assign({},t)}),A.current.next({value:Object.assign({},t)}),w.current.next({fields:Object.assign({},t),isReset:!0})),Ne(r,e),B.current=!1}),[]),clearErrors:n.useCallback((e=>{e&&(Array.isArray(e)?e:[e]).forEach((e=>z(le.current.errors,e))),j.current.next({errors:e?le.current.errors:{}})}),[]),unregister:n.useCallback(Ce,[]),setError:n.useCallback(((e,r,t)=>{const n=((d(O.current,e)||{_f:{}})._f||{}).ref;M(le.current.errors,e,Object.assign(Object.assign({},r),{ref:n})),j.current.next({errors:le.current.errors,isValid:!1}),t&&t.shouldFocus&&n&&n.focus&&n.focus()}),[]),setFocus:n.useCallback((e=>d(O.current,e)._f.ref.focus()),[])}}}}]);